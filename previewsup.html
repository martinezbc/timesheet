<!DOCType html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0">
    <meta http-equiv="cache-control" content="max-age=0">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
    <meta http-equiv="pragma" content="no-cache">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Transportation Weekly Report</title>
    <!--Stylesheet-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto|Rubik" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="css/css-v2.0.0/bootstrap-grid.css" rel="stylesheet" type="text/css">
    <link href="css/css-v2.0.0/stylesheet.css" rel="stylesheet" type="text/css">
    <link href="css/css-v2.0.0/color.css" rel="stylesheet" type="text/css">
    <style>
        .bold {
            font-weight: bold;
        }

        .bold-lg {
            font-weight: bold;
            font-size: 16px;
        }

        .section__header {
            padding: 5px;
            border-radius: 4px;
            margin-top: -2px;
        }

        p {
            font-family: 'Rubik';
            text-transform: none;
            font-weight: normal;
            font-size: 14px;
        }

    </style>
</head>

<body>
    <div class="header">
        <h1 class="header__title">TRANSPORTATION WEEKLY REPORT</h1>
        <div id="navbarmodal" class="dropdown">
            <span class="fas fa-bars dropbtn fa-lg" id="tsbtn"></span>
            <div class="dropdown-content hide" id="tsdropdown">
                <div class="row" onclick="downloadTimesheet();"><span class="fas fa-file-download"></span>&nbsp;Download</div>
                <div class="row" onclick="location.href='index2.html';"><span class="fas fa-backward"></span>&nbsp;Go Back</div>
            </div>
        </div>
    </div>
    <div class="main">
        <div class="topspacer"></div>
        <div class="card bg-burntred">
            <div style="font-size: 20px">TIMESHEET PREVIEW - After reviewing data, click on download from the menu bar to create the PDF.</div>
        </div>
        <div class="card">
            <div class="row">
                <p class="daily">Employee Data</p>
            </div>
            <div class="row">
                <div class="col-6" id="divpweek">
                    <p><b>Week Range: </b></p>
                </div>
                <div class="col-6" id="divpemp">
                    <p><b>Name: </b></p>
                </div>
            </div>
            <div class="row">
                <div class="col-4" id="divparea">
                    <p><b>Area: </b></p>
                </div>
                <div class="col-4" id="divpteam">
                    <p><b>Team: </b></p>
                </div>
                <div class="col-4" id="divpposition">
                    <p><b>Position: </b></p>
                </div>
            </div>
            <div class="row">
                <div class="col-2" id="divpojt">
                    <p><b>OJT Trainer: </b></p>
                </div>
                <div class="col-4" id="divptrainee">
                    <p><b>Trainee: </b></p>
                </div>
                <div class="col-2" id="divpveh1">
                    <p><b>Vehicle: </b></p>
                </div>
                <div class="col-4" id="divpspares">
                    <p><b>Spares: </b></p>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="row">
                <p class="daily">OTHER WORK</p>
            </div>
            <div class="row hide" id="divpow0">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow1">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow2">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow3">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow4">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow5">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow6">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow7">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow8">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpow9">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-6"><p><b>Type: </b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="row">
                <p class="daily">field trips</p>
            </div>
            <div class="row hide" id="divpft0">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p><b>From:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>To:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>Voucher:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>                
            </div>
            <div class="row hide" id="divpft1">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p><b>From:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>To:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>Voucher:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpft2">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p><b>From:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>To:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>Voucher:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpft3">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p><b>From:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>To:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>Voucher:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divpft4">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p><b>From:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>To:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p><b>Voucher:&nbsp;</b></p></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-2"><p></p></div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="row">
                <p class="daily">LEAVE</p>
            </div>
            <div class="row hide" id="divplv0">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv1">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv2">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv3">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv4">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv5">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv6">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv7">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv8">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
            <div class="row hide" id="divplv9">
                <div class="row">
                    <div class="col-sm-1"><p></p></div>
                    <div class="col-sm-2"><p><b>Type: </b></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2"><p></p></div>
                    <div class="col-sm-6"><p></p></div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="row">
                <p class="daily">TOTALS</p>
            </div>
            <div class="row">
                <div class="col-sm-3" id="divptotalrun">
                    <p class="bold-lg">REGULAR:&nbsp;</p>
                </div>
                <div class="col-sm-3" id="divptotalother">
                    <p class="bold-lg">OTHER:&nbsp;</p>
                </div>
                <div class="col-sm-3" id="divptotalft">
                    <p class="bold-lg">FIELD TRIP:&nbsp;</p>
                </div>
                <div class="col-sm-3" id="divptotalhw">
                    <p class="bold-lg">HOURS WORKED:&nbsp;</p>
                </div>
            </div>
            <hr class="border-grey">
            <div class="row">
                <div class="col-sm-2" id="divptotal1r">
                    <p class="bold-lg">1R (Regular):&nbsp;</p>
                </div>
                <div class="col-sm-2" id="divptotals4ojt">
                    <p class="bold-lg">S4 (OJT):&nbsp;</p>
                </div>
                <div class="col-sm-2" id="divptotals4j">
                    <p class="bold-lg">S4 (J):&nbsp;</p>
                </div>
                <div class="col-sm-2" id="divptotals2ql">
                    <p class="bold-lg">S2 (Q/L):&nbsp;</p>
                </div>
                <div class="col-sm-2" id="divptotalc3">
                    <p class="bold-lg">C3:&nbsp;</p>
                </div>
                <div class="col-sm-2" id="divptotalc1">
                    <p class="bold-lg">C1:&nbsp;</p>
                </div>
            </div>
        </div>
    </div>
    <script>
        const days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
        const weekdays = ["Mon", "Tue", "Wed", "Thu", "Fri"];
        const week = localStorage.getItem('WeekOfS');
        const objThis = JSON.parse(localStorage.getItem(week + "Obj"));

        //GET ELEMENT BY ID
        function byID(refID) {
            return document.getElementById(refID);
        }

        //GO TO THE TIMESHEET
        function downloadTimesheet() {
            window.open("supplement.html", "_self");
        }

        //CONVERT WEEK DATE INTO READABLE STRING
        function dateString(strDate) {
            var str = strDate.substr(0, 2) + "/" + strDate.substr(2, 2) + "/" + strDate.substr(4, 4) + " - ";
            str += strDate.substr(8, 2) + "/" + strDate.substr(10, 2) + "/" + strDate.substr(12, 4);
            return str
        }

        //SHOW OR HIDE AN ELEMENT
        function showHide(refID, bln) {
            let el = byID(refID);
            //(Show the element) ? remove hide : add hide
            if (bln) {
                if (el.classList.contains("hide")) el.classList.remove("hide");
            } else {
                if (!el.classList.contains("hide")) el.classList.add("hide");
            }
        }
        
        //WINDOW ON TOUCH CLICK. SHOW HIDE MENU
        window.onclick = function(event) {
            const bln = (byID("tsdropdownS").classList.contains("hide")) ? true : false;

            if (event.target.id !== 'tsbtn')
                showHide("tsdropdownS", false);
            else
                showHide("tsdropdownS", bln);
        }

        //WINDOW ON TOUCH EVENT. SHOW HIDE MENU
        window.ontouchstart = function(event) {
            const bln = (byID("tsdropdownS").classList.contains("hide")) ? true : false;

            if (event.target.id !== 'tsbtn')
                showHide("tsdropdownS", false);
            else
                showHide("tsdropdownS", bln);
        }

        //PRINT STRING INTO ELEMENT
        function print(strHTML, element) {
            element.innerHTML += strHTML;
        }

        //********************DIV EMP DATA********************//
        print(dateString(objThis.WeekOfS), byID("divpweek").children[0]);
        print(objThis.EmpNameS, byID("divpemp").children[0]);
        print(objThis.AreaS, byID("divparea").children[0]);
        print(objThis.TeamS, byID("divpteam").children[0]);
        print(objThis.PositionS, byID("divpposition").children[0]);
        if (objThis.OJTS) {
            print('<input id="chkboxojt" type="checkbox" checked="checked" disabled><label for="chkboxojt">OJT</label>', byID("divpojt").children[0]);
        } else {
            print('<input id="chkboxojt" type="checkbox" disabled><label for="chkboxojt">OJT</label>', byID("divpojt").children[0]);
        }
        print(objThis.TraineeS, byID("divptrainee").children[0]);
        print(objThis.Veh1S, byID("divpveh1").children[0]);
        let strHTML = ((objThis.Veh2S !== "") ? objThis.Veh2S : "") + ((objThis.Veh3S !== "") ? "/" + objThis.Veh3S : "") + ((objThis.Veh4S !== "") ? "/" + objThis.Veh4S : "");
        print(strHTML, byID("divpspares").children[0]);
        //********************DIV EMP DATA********************//
        //********************DIV OTHER WORK********************//
        let otherWork = ["OW0", "OW1", "OW2", "OW3", "OW4", "OW5", "OW6", "OW7", "OW8", "OW9"];
        let j = 0;
        for (let i = 20; i < 30; i++) {
            if (objThis[`Select${i}S`] !== "") {
                otherWork[j] = `Time${i}S`;
                j++;
            }
        }
        for (let i = 0; i < 10; i++) {
            let childdiv = byID(`divpow${i}`).children[0];
            let blnOW = (otherWork[i] !== `OW${i}`) ? true : false;
            if (blnOW) {
                let day = otherWork[i].substr(0, 3);
                let strnum = otherWork[i].substr(-3, 2);
                print(objThis[`Date${strnum}S`], childdiv.children[0].children[0]);
                if (objThis[`QL${strnum}S`]) {
                    print(`<input id="chkboxow${strnum}" type="checkbox" checked="checked" disabled><label for="chkboxow${strnum}">Q/L</label>`, childdiv.children[1]);
                } else {
                    print(`<input id="chkboxow${strnum}" type="checkbox" disabled><label for="chkboxow${strnum}">Q/L</label>`, childdiv.children[1]);
                }
                print(objThis[`Select${strnum}S`] + '-' + objThis[`Desc${strnum}S`], childdiv.children[2].children[0]);
                print(objThis[`Time${strnum}SS`] + ' - ' + objThis[`Time${strnum}ES`], childdiv.children[3].children[0]);
                print(`<u>${objThis[otherWork[i]]}</u>`, childdiv.children[4].children[0]);
            }
            if (blnOW) showHide(`divpow${i}`, true);
        }
        //********************DIV OTHER WORK********************//
        //********************DIV FIELD TRIPS********************//
        let otherFT = ["FT0", "FT1", "FT2", "FT3", "FT4"];
        j = 0;
        for (let i = 30; i < 35; i++) {
            if (objThis[`Time${i}S`] !== "") {
                otherFT[j] = `Time${i}S`;
                j++;
            }
        }
        for (let i = 0; i < 5; i++) {
            let childdiv = byID(`divpft${i}`).children[0];
            let blnFT = (otherFT[i] !== `FT${i}`) ? true : false;
            if (blnFT) {
                let day = otherFT[i].substr(0, 3);
                let strnum = otherFT[i].substr(-3, 2);
                print(objThis[`Date${strnum}S`], childdiv.children[0].children[0]);
                if (objThis[`QL${strnum}S`])
                    print(`<input id="chkboxft${strnum}" type="checkbox" checked="checked" disabled><label for="chkboxft${strnum}">Q/L</label>`, childdiv.children[1]);
                else
                    print(`<input id="chkboxft${strnum}" type="checkbox" disabled><label for="chkboxft${strnum}">Q/L</label>`, childdiv.children[1]);
                print(objThis[`From${strnum}S`], childdiv.children[2].children[0]);
                print(objThis[`To${strnum}S`], childdiv.children[3].children[0]);
                print(objThis[`Voucher${strnum}S`], childdiv.children[4].children[0]);
                print(objThis[`Time${strnum}SS`] + ' - ' + objThis[`Time${strnum}ES`], childdiv.children[5].children[0]);
                print(`<u>${objThis[otherFT[i]]}</u>`, childdiv.children[6].children[0]);
            }
            if (blnFT) showHide(`divpft${i}`, true);
        }
        //********************DIV FIELD TRIPS********************//
        //********************DIV LEAVE********************//
        let otherLV = ["LV0", "LV1", "LV2", "LV3", "LV4"];
        j = 0;
        for (let i = 40; i < 45; i++) {
            if (objThis[`Time${i}S`] !== "") {
                otherLV[j] = `Time${i}S`;
                j++;
            }
            if (objThis[`LeaveAD${i}S`]) {
                otherLV[j] = `LeaveAD${i}S`;
                j++;
            }
        }
        for (let i = 0; i < 5; i++) {
            let childdiv = byID(`divplv${i}`).children[0];
            let blnLV = (otherLV[i] !== `LV${i}`) ? true : false;
            if (blnLV) {
                let day = otherLV[i].substr(0, 3);
                let strnum = otherLV[i].substr(-3, 2);
                print(objThis[`Date${strnum}S`], childdiv.children[0].children[0]);
                print(objThis[`Select${strnum}S`], childdiv.children[1].children[0]);
                if (strnum === "AD") {
                    print(`<input id="allday${strnum}" type="checkbox" checked="checked" disabled><label for="allday${strnum}">ALL DAY</label>`, childdiv.children[2]);
                } else {
                    print(`<input type="checkbox" id="allday${strnum}" disabled><label for="allday${strnum}">ALL DAY</label>`, childdiv.children[2]);
                    print(objThis[`Time${strnum}SS`] + ' - ' + objThis[`Time${strnum}ES`], childdiv.children[3].children[0]);
                    print(`<u>${objThis[otherLV[i]]}</u>`, childdiv.children[4].children[0]);
                }
            }
            if (blnLV) showHide(`divplv${i}`, true);
        }
        //********************DIV LEAVE********************//
        //********************DIV TOTALS********************//
        print(objThis.TotalRunS, byID("divptotalrun").children[0]);
        print(objThis.TotalOtherS, byID("divptotalother").children[0]);
        print(objThis.TotalFTS, byID("divptotalft").children[0]);
        print(objThis.TotalHWS, byID("divptotalhw").children[0]);
        print(objThis.Total1RS, byID("divptotal1r").children[0]);
        print(objThis.TotalS4OJTS, byID("divptotals4ojt").children[0]);
        print(objThis.TotalS4JS, byID("divptotals4j").children[0]);
        print(objThis.TotalS2QLS, byID("divptotals2ql").children[0]);
        print(objThis.TotalC3S, byID("divptotalc3").children[0]);
        print(objThis.TotalC1S, byID("divptotalc1").children[0]);
        //********************DIV TOTALS********************//

    </script>
</body>

</html>
